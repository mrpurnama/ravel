"use strict";angular.module("ravelApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngValidate","smart-table","angularMoment","ui.select","LocalStorageModule","angular.filter","ui-notification","ui.router"]).config(["$routeProvider","localStorageServiceProvider","stConfig","uiSelectConfig","NotificationProvider","$validatorProvider",function(a,b,c,d,e,f){var g=window.location.hostname;g="localhost"===g?"":g,b.setPrefix("ravelApp").setStorageType("sessionStorage").setStorageCookieDomain(g),c.pagination.template="views/template/paginations.html",c.sort.delay=50,c.pipe.delay=200,d.theme="bootstrap",e.setOptions({delay:1e4,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"bottom"}),f.setDefaults({errorElement:"span",errorClass:"help-block error has-error"})}]).run(["$rootScope","$state","localStorageService","$route",function(a,b,c,d){a.host="https://bio-code.cyclic.app",c.set("host",a.host)}]).filter("normalText",["$filter",function(a){return function(b){if(b){var c=/_|-/g.test(b),d=/\./g.test(b);if(c||d){var e=b.replace(/_|-/g," "),f=e.replace(/\./g," "),g=a("ucfirst")(f);return g}var g=a("ucfirst")(b);return g}}}]),function(){angular.module("ravelApp").service("$dataService",["$http","localStorageService",function(a,b){var c=b.get("host")||"http://128.199.221.96:8098";return a.defaults.headers.common.Authorization="Bearer "+b.get("token"),b.get("session")&&(a.defaults.headers.common.session=b.get("session")),b.get("accessToken")&&(a.defaults.headers.common.token=b.get("accessToken")),{baseURL:c,getAllRecords:function(b,d,e,f){var g=c+"/"+b;a.get(g,{paramSerializer:"$httpParamSerializerJQLike",params:d}).then(e,f)},getRecord:function(b,d,e,f){var g=c+"/"+b+"/"+d;a.get(g).then(e,f)},createRecord:function(b,d,e,f){var g=c+"/"+b;a.post(g,d).then(e,f)},updateRecord:function(b,d,e,f,g){var h=c+"/"+b+"/"+d;a.put(h,e).then(f,g)},deleteRecord:function(b,d,e,f){var g=c+"/"+b;a.delete(g,{data:d}).then(e,f)}}}])}(),angular.module("ravelApp").factory("AuthenticationService",["$dataService",function(a){return{login:function(b,c,d){a.createRecord("api/auth/v1/user/login",b,c,d)},register:function(b,c,d){a.createRecord("api/v1/auam/register",b,c,d)},authorize:function(b,c,d){a.getAllRecords("api/accurate/v1/authorize",b,c,d)},openDatabase:function(b,c,d){a.createRecord("api/accurate/v1/database/open?id="+b,{},c,d)}}}]),angular.module("ravelApp").factory("DropdownService",["$dataService",function(a){return{getCustomerList:function(b,c,d){a.getAllRecords("api/loyalty/v1/dropdown/customer",b,c,d)},getCustomerCategories:function(b,c,d){a.getAllRecords("api/loyalty/v1/dropdown/customer/category",b,c,d)},getCustomer:function(b,c,d){a.getAllRecords("api/loyalty/v1/dropdown/customer/detail",b,c,d)},getItem:function(b,c,d){a.getAllRecords("api/loyalty/v1/dropdown/item/detail",b,c,d)}}}]),function(){function a(){function a(){jQuery(".main-wrapper > .loader-container").addClass("d-flex")}function b(){jQuery(".main-wrapper > .loader-container").removeClass("d-flex")}function c(){jQuery(".table > .loader-container").addClass("d-flex")}function d(){jQuery(".table > .loader-container").removeClass("d-flex")}function e(){jQuery(".modal > .loader-container").addClass("d-flex")}function f(){jQuery(".modal > .loader-container").removeClass("d-flex")}function g(a){jQuery(a).addClass("d-flex")}function h(a){jQuery(a).removeClass("d-flex")}return{showInMain:a,hideInMain:b,showInTable:c,hideInTable:d,showInModal:e,hideInModal:f,showInCustom:g,hideInCustom:h}}angular.module("ravelApp").factory("loader",a),a.$inject=[]}(),angular.module("ravelApp").config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),b.when("","/"),a.state("app",{url:"",abstract:!0,templateUrl:"views/layouts/application.html",controller:"MainController",params:{token:null}}).state("app.index",{url:"/index",templateUrl:"views/index.html",controller:"IndexController",controllerAs:"index",pageURL:"index"}).state("app.other_place",{url:"/other_place",templateUrl:"views/other_place.html",controller:"OtherPlaceController",controllerAs:"other_place",pageURL:"other_place"}).state("app.testimoni",{url:"/testimoni",templateUrl:"views/testimoni.html",controller:"TestimoniController",controllerAs:"testimoni",pageURL:"testimoni"}).state("login",{url:"/",templateUrl:"views/login.html",controller:"LoginController",controllerAs:"login",pageURL:"login",reloadOnSearch:!1}).state("register",{url:"/register",templateUrl:"views/register.html",controller:"RegisterController",controllerAs:"register",pageURL:"register"})}]),angular.module("ravelApp").controller("LoginController",["$scope","$rootScope","localStorageService","AuthenticationService","$location","$state","Notification","$timeout","$http","$stateParams","loader",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){var c={};c.status=!0,c.messages=[],b.userId&&(b.userId=b.userId.trim());var d=_.find(m,{userId:b.userId,password:b.password});return d||(c.messages.push("Id & Password Salah"),c.status=!1),a.user=d,c}a.error=null,a.loginData=c.get("initLoginData")||{};var m=[{userId:"mrp1",name:"Rizky",password:"1234"},{userId:"mrp2",name:"Purnama",password:"1234"}];a.validationOptions={rules:{"input-name":{required:!0},"input-userId":{required:!0},"input-password":{required:!0},"input-confirmation_password":{required:!0}}},a.submitLogin=function(b){if(k.showInModal(),b.validate()){var d=l(a.loginData);d.status?(c.set("user",a.user),a.loginData.remember_me?c.set("initLoginData",a.loginData):c.remove("initLoginData"),g.success("Selamat Datang, "+a.user.name),f.go("app.index")):(k.hideInModal(),angular.forEach(d.messages,function(a,b){g.error(a)}))}}}]),angular.module("ravelApp").controller("RegisterController",["$scope","localStorageService","AuthenticationService","$state","Notification","$http","loader",function(a,b,c,d,e,f,g){function h(a){var b={};return b.status=!0,b.messages=[],a.userId&&(a.userId=a.userId.trim()),_.find(i,{userId:a.userId})&&(b.messages.push("User ID Telah digunakan"),b.status=!1),a.password!=a.confirmation_password&&(b.messages.push("Password dan konfirmasi password tidak sama"),b.status=!1),b}var i=[{userId:"mrp1",name:"Rizky"},{userId:"mrp2",name:"Purnama"}];a.validationOptions={rules:{"input-name":{required:!0},"input-userId":{required:!0},"input-password":{required:!0},"input-confirmation_password":{required:!0}}},a.submitRegister=function(b){if(g.showInModal(),b.validate()){var c=h(a.registerData);c.status?e.success("Hai "+a.registerData.name+", anda telah terdaftar!"):(g.hideInModal(),angular.forEach(c.messages,function(a,b){e.error(a)}))}}}]),angular.module("ravelApp").controller("MainController",["$rootScope","$scope","$state","localStorageService","$filter","$timeout","$transitions",function(a,b,c,d,e,f,g){a.doLogout=function(){d.remove("token"),d.remove("user"),d.get("session")&&d.remove("session"),d.get("accessToken")&&d.remove("accessToken"),c.go("login")},a.user=d.get("user"),a.host=d.get("host")||"http://128.199.221.96:8098",a.customerToken="Bearer "+d.get("token"),a.goTo=function(a){$location.path("/"+a)},a.displayCurrency=function(a){return e("currency")(a,"Rp",0)},a.displayAbsolute=function(a){return Math.abs(a||0)},g.onSuccess({},function(){c.go(c.current.name)})}]),angular.module("ravelApp").controller("IndexController",["$rootScope","$scope","$state","Notification","loader","$http","localStorageService",function(a,b,c,d,e,f,g){function h(){}a.controller="index",f.defaults.headers.common.Authorization="Bearer "+g.get("token"),h()}]),angular.module("ravelApp").controller("OtherPlaceController",["$rootScope","$scope","$state","Notification","loader","$http","localStorageService",function(a,b,c,d,e,f,g){function h(){}a.controller="other_place",f.defaults.headers.common.Authorization="Bearer "+g.get("token"),h()}]),angular.module("ravelApp").controller("TestimoniController",["$rootScope","$scope","$state","Notification","loader","$http","localStorageService",function(a,b,c,d,e,f,g){function h(){}a.controller="testimoni",f.defaults.headers.common.Authorization="Bearer "+g.get("token"),h()}]),angular.module("ravelApp").run(["$templateCache",function(a){a.put("views/index.html",'<div class="jumbotron container-banner"> <div class="container content-banner"> <h1 class="m-t-0 m-b-0 bold">Ravel</h1> <h2 class="m-t-0 m-b-0 bold">Travel Solution</h2> </div> </div> <section class="section"> <div class="container"> <div class="row"> <div class="col-xs-4"></div> <div class="col-xs-8"> <h3></h3> </div> </div> </div> </section>'),a.put("views/layouts/application.html",'<div class="main-wrapper"> <div class="loader-container"> <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i> <span class="sr-only">Loading...</span> </div> <nav class="navbar top-navbar bg-white box-shadow" ng-include="\'views/layouts/header.html\'"></nav> <div class="content-wrapper"> <div class="content-container"> <div class="main-page" ui-view> </div> </div> </div> </div>'),a.put("views/layouts/header.html",'<div class="container-fluid"> <div class="row d-flex"> <a ui-sref="app.index" class="navbar-header no-padding" data-cy="h-logo"> <span class="navbar-brand" style="display: flex; align-items: center"> <img ng-src="images/logo.364cb561.png" class="logo" style="margin-right: 8px"> </span> </a> \x3c!-- /.navbar-header --\x3e <div class="collapse navbar-collapse" id="navbar-collapse-1" style="flex-grow: 2"> <ul class="nav navbar-nav navbar-center" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut"> <li><a ui-sref="app.index" ng-class="{ \'text-success\': $root.controller == \'index\' }" data-cy="h-nav-home">Home</a></li> <li><a ui-sref="app.other_place" ng-class="{ \'text-success\': $root.controller == \'other_place\' }" data-cy="h-nav-other-place">Tempat Lain</a></li> <li><a ui-sref="app.testimoni" ng-class="{ \'text-success\': $root.controller == \'testimoni\' }" data-cy="h-nav-testimoni">Testimoni</a></li> </ul> </div> <div class="collapse navbar-collapse" id="navbar-collapse-1"> \x3c!-- /.nav navbar-nav --\x3e <ul class="nav navbar-nav navbar-right" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" data-cy="h-profile">Halo, {{ $root.user.name }} <span class="caret"></span></a> <ul class="dropdown-menu profile-dropdown"> \x3c!-- <li class="profile-menu bg-gray">\n              <div class="">\n                <img src="http://placehold.it/60/c2c2c2?text=User" alt="{{ $root.user.username }}"\n                  class="img-circle profile-img">\n                <div class="profile-name">\n                  <h6>{{ $root.user.username }}</h6>\n                  <a>View Profile</a>\n                </div>\n                <div class="clearfix"></div>\n              </div>\n            </li> --\x3e \x3c!-- <li><a><i class="fa fa-cog"></i> Settings</a></li> --\x3e \x3c!-- <li><a><i class="fa fa-sliders"></i> Account Details</a></li> --\x3e \x3c!-- <li role="separator" class="divider"></li> --\x3e <li><a class="color-danger text-center" ng-click="$root.doLogout()"><i class="fa fa-sign-out"></i>Logout</a></li> </ul> </li> \x3c!-- /.dropdown --\x3e </ul> \x3c!-- /.nav navbar-nav navbar-right --\x3e </div> \x3c!-- /.navbar-collapse --\x3e </div> \x3c!-- /.row --\x3e </div> \x3c!-- /.container-fluid --\x3e'),a.put("views/login.html",'<div class="row"> <div class="col-xs-6"> <img ng-src="images/bg-login.dc44ec04.png" class="img-responsive bg-login-image"> </div> <div class="col-xs-6"> <div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div class="panel panel-default mt-20 login-panel"> <div class="panel-body"> <form name="loginForm" ng-submit="submitLogin(loginForm)" ng-validate="validationOptions"> <div class="text-center"> <img class="mb-4" ng-src="images/logo.364cb561.png" class="img-responsive" style="width: 200px"> </div> <h4 class="m-t-0 bold">Masuk</h4> <div class="form-group"> <label for="input-userId">User ID</label> <input type="text" class="form-control" id="input-userId" name="input-userId" ng-model="loginData.userId" data-cy="input-userId"> </div> <div class="form-group"> <label for="input-password">Password</label> <input type="password" class="form-control" id="input-password" name="input-password" ng-model="loginData.password" data-cy="input-password"> </div> <div class="checkbox mb-3"> <label> <input type="checkbox" ng-model="loginData.remember_me" data-cy="input-remember_me"> Ingat saya! </label> </div> <button class="btn-block btn btn-success btn-lg" type="submit" ng-disabled="dataLoading" data-cy="btn-login">Login</button> <div class="text-center mt-10 mb-10 bold"> atau </div> <div class="text-center"> Belum punya akun? <a ui-sref="register" class="text-success" data-cy="btn-register">Daftar</a> </div> </form> </div> </div> </div> </div> </div> </div>'),a.put("views/other_place.html",'<div class="jumbotron container-banner"> <div class="container content-banner"> <h1 class="m-t-0 m-b-0 bold">Ravel</h1> <h2 class="m-t-0 m-b-0 bold">Travel Solution</h2> </div> </div> <section class="section"> <div class="container"> <div class="row"> <div class="col-xs-4"></div> <div class="col-xs-8"> <h3></h3> </div> </div> </div> </section>'),a.put("views/register.html",'<div class="row with-logo-background"> <div class="col-xs-4 col-xs-offset-4"> <div class="panel panel-default mt-20 login-panel"> <div class="panel-body"> <form name="registerForm" ng-submit="submitRegister(registerForm)" ng-validate="validationOptions"> <h4 class="m-t-0 bold">Daftar</h4> <div class="form-group"> <label for="input-userId">User ID</label> <input type="text" class="form-control" id="input-userId" name="input-userId" placeholder="Masukan User Id" ng-model="registerData.userId" data-cy="input-userId" data-validation="required"> </div> <div class="form-group"> <label for="input-name">Nama</label> <input type="text" class="form-control" id="input-name" name="input-name" placeholder="Masukan Nama" ng-model="registerData.name" data-cy="input-name"> </div> <div class="form-group"> <label for="input-password">Password</label> <input type="password" class="form-control" id="input-password" name="input-password" placeholder="Password" ng-model="registerData.password" data-cy="input-password"> </div> <div class="form-group"> <label for="input-confirmation_password">Konfirmasi Password</label> <input type="password" class="form-control" id="input-confirmation_password" name="input-confirmation_password" placeholder="Password" ng-model="registerData.confirmation_password" data-cy="input-confirmation_password"> </div> <button class="btn-block btn btn-success btn-lg" type="submit" ng-disabled="dataLoading" data-cy="btn-register">Daftar</button> </form> </div> </div> </div> </div>'),a.put("views/testimoni.html",'<div class="jumbotron container-banner"> <div class="container content-banner"> <h1 class="m-t-0 m-b-0 bold">Ravel</h1> <h2 class="m-t-0 m-b-0 bold">Travel Solution</h2> </div> </div> <section class="section"> <div class="container"> <div class="row"> <div class="col-xs-4"></div> <div class="col-xs-8"> <h3></h3> </div> </div> </div> </section>')}]);